import{a as j}from"./chunk-J5QWWV5A.js";import{a as L}from"./chunk-ESXRJA3M.js";import{a as R}from"./chunk-WI7CH72R.js";import"./chunk-UEL7HRSK.js";import{a as z}from"./chunk-3P4GGDLG.js";import{a as M,d as F}from"./chunk-BMAVGE27.js";import{$b as C,Ga as D,Gc as E,Ka as S,Kb as m,La as h,Pa as l,Vc as I,Ya as p,Zb as r,Zc as T,_b as u,cb as y,fa as x,jc as _,kd as P,oc as k,pb as d,qb as g,qc as B,rb as f,tb as v,ub as b,vb as c,wb as a,xb as n,yb as s}from"./chunk-XV2ID6DM.js";var w=e=>["/blog-category",e],A=e=>["/blog",e];function H(e,i){if(e&1&&(a(0,"h2",5),r(1),n()),e&2){let t=m();l(),u(t.blogData.title)}}function Y(e,i){if(e&1&&s(0,"div",6),e&2){let t=m();c("innerHTML",t.sanitizer.bypassSecurityTrustHtml(t.blogData.description),S)}}function $(e,i){if(e&1&&(a(0,"figure",7),s(1,"img",16),n()),e&2){let t=m();l(),c("src",t.blogData.featured_image,h)("title",t.blogData.title||"")("alt",t.blogData.title||"")}}function N(e,i){if(e&1&&(a(0,"span",19),r(1),n()),e&2){let t=i.$implicit;l(),u(t)}}function U(e,i){if(e&1&&(a(0,"div"),s(1,"i",17),a(2,"span",18),r(3,"Tags:"),n(),v(4,N,2,1,"span",19,f),n()),e&2){let t=m();l(4),b(t.blogData.tags)}}function J(e,i){if(e&1&&(a(0,"div",9),s(1,"i",20),a(2,"span",18),r(3,"Share:"),n(),s(4,"app-social",21),n()),e&2){let t=m();l(4),c("socialLinks",t.settings)}}function q(e,i){if(e&1&&(a(0,"li",14),s(1,"i",22),r(2),n()),e&2){let t=i.$implicit;c("routerLink",_(2,w,t.id)),l(2),C(" ",t.title," ")}}function G(e,i){if(e&1&&(a(0,"div",15)(1,"figure",23),s(2,"img",24),n(),a(3,"figcaption",25)(4,"div",18),s(5,"i",26),a(6,"span"),r(7),k(8,"date"),n()(),a(9,"h4",27),r(10),n()()()),e&2){let t=i.$implicit;c("routerLink",_(9,A,t.slug)),l(2),c("src",t.featured_image,h)("alt",t.title)("title",t.title),l(5),u(B(8,6,t.created_at,"dd-MMM-yyyy")),l(3),C(" ",t.title," ")}}function K(e,i){if(e&1&&(a(0,"span",19),r(1),n()),e&2){let t=i.$implicit;l(),u(t)}}function Q(e,i){if(e&1&&(a(0,"div"),s(1,"i",17),a(2,"span",18),r(3,"Tags:"),n(),v(4,K,2,1,"span",19,f),n()),e&2){let t=m();l(4),b(t.blogData.tags)}}var O=class e{constructor(i,t,o,V,W){this.seoService=i;this.dataService=t;this._ActivatedRoute=o;this.cdr=V;this.platformId=W}backgroundImage="../../../assets/image/banner.webp";blogData={};isLoading=!1;sanitizer=x(P);settings={};blogCategories=[];recentPosts=[];ngOnInit(){this._ActivatedRoute.params.subscribe(i=>{let t=i.slug;console.log("slug",t),this.dataService.getBlogBySlug(t).subscribe({next:o=>{o&&o.data&&setTimeout(()=>{this.blogData=o.data,console.log("blogData",this.blogData),this.blogData.tags&&typeof this.blogData.tags=="string"?this.blogData.tags=this.blogData.tags.split(","):this.blogData.tags||(this.blogData.tags=[]),console.log("tags",this.blogData.tags),this.isLoading=!0,this.cdr.markForCheck()},0)},error:o=>{console.error("Error fetching blog data:",o),setTimeout(()=>{this.isLoading=!1,this.cdr.markForCheck()},0)}})}),this.seoService.updateSeoData({},"majestic - Blog Details","Read the full blog post","../../../assets/image/majestic-logo.svg"),this.getSettings(),this.getBlogCategories(),this.getRecentPosts()}getBlogCategories(){this.dataService.getBlogCategories().subscribe(i=>{i&&i.data&&setTimeout(()=>{this.blogCategories=i.data.data,console.log("blog categories",this.blogCategories),this.cdr.markForCheck()},0)})}getRecentPosts(){this.dataService.getBlogs().subscribe(i=>{i&&i.data&&setTimeout(()=>{this.recentPosts=i.data.data,console.log("recent posts",this.recentPosts),this.cdr.markForCheck()},0)})}getSettings(){this.settings=localStorage.getItem("majestic_settings"),this.settings&&JSON.parse(this.settings).data.data.forEach(t=>{t.option_key==="social_links"&&(this.settings=t.option_value)}),console.log("settings social_links",this.settings)}static \u0275fac=function(t){return new(t||e)(p(z),p(R),p(M),p(E),p(D))};static \u0275cmp=y({type:e,selectors:[["app-blog-details"]],decls:29,vars:9,consts:[[3,"title","subtitle","backgroundImage"],[1,"my-5"],[1,"container"],[1,"row","g-3"],[1,"col-lg-8"],[1,"text-capitalize","mb-3","text-color","h4"],[1,"text-color-secondary","fontsm",3,"innerHTML"],[1,"img-Hover","rounded-2","overflow-hidden","position-relative","mb-0"],[1,"flexBetween","flex-wrap","gap-3","mt-4","p-3","border","rounded-3"],[1,"d-flex","align-items-center"],[1,"col-lg-4"],[1,"sidebar"],[1,"p-3","border","rounded-3","mb-3"],[1,"list-unstyled","mt-3"],[1,"mb-2","px-2","py-1","rounded-2","cPointer","text-capitalize","fontsm",3,"routerLink"],[1,"d-flex","mt-3",3,"routerLink"],["loading","lazy","height","400",1,"w-100","object-fit-cover","transition",3,"src","title","alt"],[1,"fa-solid","fa-tags"],[1,"me-3"],[1,"tag","d-inline-block","m-1","fontsm","rounded-2","cPointer","text-capitalize","py-1","px-2"],[1,"fa-solid","fa-share-nodes"],[3,"socialLinks"],[1,"fa-solid","fa-check-circle","me-2","textMainColor"],[1,"rounded-3","overflow-hidden","flex-shrink-0"],["width","100px","height","90px","loading","lazy",3,"src","alt","title"],[1,"ps-3"],[1,"fa","fa-calendar-days","me-2"],[1,"text-capitalize","cPointer","h6","mt-2"]],template:function(t,o){t&1&&(s(0,"app-banner",0),a(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div"),d(6,H,2,1,"h2",5),d(7,Y,1,1,"div",6),d(8,$,2,3,"figure",7),a(9,"div",8),d(10,U,6,0,"div"),d(11,J,5,1,"div",9),n()()(),a(12,"div",10)(13,"div",11)(14,"div",12)(15,"h5"),r(16,"category"),n(),a(17,"ul",13),v(18,q,3,4,"li",14,f),n()(),a(20,"div",12)(21,"h5"),r(22,"recent posts"),n(),v(23,G,11,11,"div",15,f),n(),a(25,"div",12)(26,"h5"),r(27,"tags"),n(),d(28,Q,6,0,"div"),n()()()()()()),t&2&&(c("title",o.blogData.title)("subtitle","Read the full blog post")("backgroundImage",o.backgroundImage),l(6),g(o.blogData.title?6:-1),l(),g(o.blogData.description?7:-1),l(),g(o.blogData.featured_image?8:-1),l(2),g(o.blogData.tags&&o.blogData.tags.length>0?10:-1),l(),g(o.settings&&o.settings.length>0?11:-1),l(7),b(o.blogCategories),l(5),b(o.recentPosts.slice(-2)),l(5),g(o.blogData.tags&&o.blogData.tags.length>0?28:-1))},dependencies:[L,j,F,T,I],styles:[".tag[_ngcontent-%COMP%]{transition:all .5s linear;border:1px solid #EEEFEF;border-color:#1781fe;color:#1781fe}.tag[_ngcontent-%COMP%]:hover{background-color:#1781fe!important;color:#fff!important;transform:translateY(-3px)!important;-webkit-transform:translateY(-3px)!important;-moz-transform:translateY(-3px)!important;-ms-transform:translateY(-3px)!important;-o-transform:translateY(-3px)!important}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:all .5s linear}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#1783fe74;color:#fff!important}"]})};export{O as BlogDetailsComponent};
