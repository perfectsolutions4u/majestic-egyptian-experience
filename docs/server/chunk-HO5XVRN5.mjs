import './polyfills.server.mjs';
import{a as b}from"./chunk-BZMZPU7X.mjs";import"./chunk-ZYS5XCCG.mjs";import"./chunk-KX3P2BBH.mjs";import"./chunk-PFASEQHQ.mjs";import{a as _}from"./chunk-SKN4S5F7.mjs";import"./chunk-UXIQEXPC.mjs";import{a as h}from"./chunk-56BUFAXK.mjs";import{a as C}from"./chunk-T2CJTV2K.mjs";import{Ab as r,Bb as a,Cb as m,Nc as v,Ob as y,Ra as c,_a as n,bc as l,eb as g,tb as p,ub as d,xb as u,yb as f,zb as s}from"./chunk-7YNU2WAY.mjs";import"./chunk-T55IDOPT.mjs";var D=(e,i)=>i.id;function x(e,i){if(e&1&&(r(0,"div",6),m(1,"app-tour-cart",7),a()),e&2){let t=i.$implicit;c(),s("tour",t)}}function S(e,i){if(e&1&&u(0,x,2,1,"div",6,D),e&2){let t=y();f(t.tours)}}function k(e,i){e&1&&(r(0,"div",5)(1,"p",8),l(2,"No tours found in this category"),a()())}var I=class e{constructor(i,t,o){this._DataService=i;this._ActivatedRoute=t;this._cdr=o}tours=[];category={};backgroundImage="";ngOnInit(){this._ActivatedRoute.params.subscribe(i=>{let t=i.slug;console.log("slug",t),this._DataService.getCategoryBySlug(t).subscribe(o=>{setTimeout(()=>{this.category=o.data,console.log("category",this.category),this._cdr.markForCheck()},0)}),this._DataService.getTours({category_slug:t}).subscribe(o=>{o&&o.data&&setTimeout(()=>{this.tours=o.data.data,console.log("tours",this.tours),this._cdr.markForCheck()},0)})})}static \u0275fac=function(t){return new(t||e)(n(_),n(C),n(v))};static \u0275cmp=g({type:e,selectors:[["app-category"]],decls:8,vars:4,consts:[[3,"title","subtitle","backgroundImage"],[1,"my-5","py-5"],[1,"container"],[1,"text-capitalize","h3","fw-bold","mb-4"],[1,"row","g-3"],[1,"col-12"],[1,"col-md-6","col-lg-4"],[3,"tour"],[1,"text-center","text-danger"]],template:function(t,o){t&1&&(m(0,"app-banner",0),r(1,"section",1)(2,"div",2)(3,"h2",3),l(4,"tours in this category"),a(),r(5,"div",4),p(6,S,2,0)(7,k,3,0,"div",5),a()()()),t&2&&(s("title",o.category.title)("subtitle","Explore our categories")("backgroundImage",o.category.featured_image||"../../../assets/image/banner.webp"),c(6),d(o.tours.length>0?6:7))},dependencies:[h,b],encapsulation:2})};export{I as Category};
